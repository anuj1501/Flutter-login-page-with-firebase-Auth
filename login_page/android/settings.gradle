// Copyright 2014 The Flutter Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

include ':app'

def FlutterProjectRoot = rootProject.projectDir.parentFile.toPath()

def plugins = new Properties()

def pluginsFile = new File(FlutterProjectRoot.toFile(),'.flutter-plugins')

if (pluginsFile.exists()){
    pluginsFile.withReader('UTF-8'){ reader -> plugins.load(reader)}
}

plugins.each{ name,path -> 

    def pluginDirectory = FlutterProjectRoot.resolve(path).resolve(path).resolve('android').toFile()
    include ":$name"
    project(":$name").projectDir = pluginDirectory

}
